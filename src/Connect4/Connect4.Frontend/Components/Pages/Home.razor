@rendermode InteractiveServer
@page "/"
@using Game.Domain
@using MediatR
@using Game.Application

@code {

    [Inject]
    private IMediator Mediator { get; set; } = null!;

    private Guid? GameId { get; set; }

    private async Task CreateGame()
    {
        Console.WriteLine("My debug output.");
        this.GameId = await this.Mediator.Send(new CreateGameCommand());
    }

    private async Task RenameGame()
    {
        if (this.GameId == null)
            return;

        await this.Mediator.Send(new UpdateGameNameCommand(new GameId(this.GameId.Value), "New Game Name"));
    }

}

<PageTitle>Playground</PageTitle>

<h1>Current Game: @GameId</h1>

<button @onclick="() => Console.WriteLine('t')"> Test Button</button>
<button @onclick="CreateGame">Create</button>
<button @onclick="RenameGame">Rename</button>
