@attribute [StreamRendering]

@if (this.Visualizer == null)
{
    <MudCard Style="width: 300px" Elevation="15">
        <MudCardHeader>
            <CardHeaderContent>
                <MudSkeleton Width="50%" Height="42px;" />
            </CardHeaderContent>
        </MudCardHeader>
        @if (this.ShowImage)
        {
            <MudSkeleton SkeletonType="SkeletonType.Rectangle" Height="300px" />
        }
        <MudCardContent>
            <MudSkeleton Width="30%" />
        </MudCardContent>
    </MudCard>
}
else
{
    <MudCard Style="width: 300px" Square="true" Elevation="15">

        <MudCardHeader>
            <CardHeaderContent>
                <MudText GutterBottom="this.ShowImage" Align="this.ShowImage ? Align.Left : Align.Center" Typo="Typo.h6">@this.Visualizer.Name</MudText>
            </CardHeaderContent>
            <CardHeaderActions>
                @if (this.Editable)
                {
                    <MudMenu Icon="@Icons.Material.Filled.MoreVert">
                        <MudMenuItem Disabled="Visualizer.IsInGame" @onclick="EditVisualizer">Bearbeiten</MudMenuItem>
                        <MudMenuItem Disabled="Visualizer.IsInGame" @onclick="DeleteVisualizer">Löschen</MudMenuItem>
                    </MudMenu>
                }
            </CardHeaderActions>
        </MudCardHeader>
        @if (this.ShowImage)
        {
            <MudCardMedia Image="@($"_content/Connect4.Frontend/images/robots/{this.VisualizerImage}")" Height="300" />
        }
        <MudCardContent>
            <VisualizerStatusDisplay VisualizerStatus="@this.Visualizer.Status"></VisualizerStatusDisplay>
        </MudCardContent>
    </MudCard>
}
